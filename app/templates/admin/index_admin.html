{% extends 'base.html' %}
{% block content %}

    <div class="modal fade" id="message_modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body" id="modal-body-message">
                    <div class="container-fluid" id="message-response"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Edit Insumos -->
    <div class="modal fade" id="edit_insumo_modal" tabindex="-1" aria-labelledby="editInsumosModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" id="edit_insumo_modal_content">
            </div>
        </div>
    </div>
    <!-- End Modal Edit Insumos -->


    <!-- Modal Add Insumos -->
    <div class="modal fade" id="add_insumo_modal" tabindex="-1" aria-labelledby="addInsumosModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="modal-add-insumos-title w-100 text-center" id="addInsumosModalLabel">Registro de Insumos</span>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container-fluid" id="modal_add_insumos_container">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End Modal Add Insumos -->


    <div class="row" id="main_row">
        <div class="col">
            <div class="row">
                <span id="insumos_title">Insumos</span>
            </div>
            <div class="container-fluid" id="table_container_index">
                <div class="row">
                    <div class="d-grid d-flex justify-content-between">
                        <div class="col-md-4">
                            <input type="search" class="form-control" name="query" placeholder="Buscar Insumos..." hx-get="{{ url_for('search_insumos') }}" hx-target="#insumos-table" hx-trigger="keyup changed delay:500ms, search">
                        </div>
                        <a href="#" id="a_svg_add_insumos" data-bs-toggle="modal" hx-get="{{ url_for('add_insumos_form') }}" data-bs-target="#add_insumo_modal" hx-target="#modal_add_insumos_container">
                            <svg id="add_insumos_svg" width="180" height="50" viewBox="0 0 265 50" xmlns="http://www.w3.org/2000/svg">
                                <rect id="rect_add_insumos" width="265" height="50" fill="#DE0043"/>
                                <rect width="100" height="49.07" transform="matrix(1 0 -0.207912 0.978148 215.1 1)" fill="#FF3162"/>
                                <path d="M31.946 27.606H26.942L26.114 30H23.468L27.986 17.418H30.92L35.438 30H32.774L31.946 27.606ZM31.262 25.59L29.444 20.334L27.626 25.59H31.262ZM46.3748 21.216C46.0868 20.688 45.6908 20.286 45.1868 20.01C44.6828 19.734 44.0948 19.596 43.4228 19.596C42.6788 19.596 42.0188 19.764 41.4428 20.1C40.8668 20.436 40.4168 20.916 40.0928 21.54C39.7688 22.164 39.6068 22.884 39.6068 23.7C39.6068 24.54 39.7688 25.272 40.0928 25.896C40.4288 26.52 40.8908 27 41.4788 27.336C42.0668 27.672 42.7508 27.84 43.5308 27.84C44.4908 27.84 45.2768 27.588 45.8888 27.084C46.5008 26.568 46.9028 25.854 47.0948 24.942H42.7748V23.016H49.5788V25.212C49.4108 26.088 49.0508 26.898 48.4988 27.642C47.9468 28.386 47.2328 28.986 46.3568 29.442C45.4928 29.886 44.5208 30.108 43.4408 30.108C42.2288 30.108 41.1308 29.838 40.1468 29.298C39.1748 28.746 38.4068 27.984 37.8428 27.012C37.2908 26.04 37.0148 24.936 37.0148 23.7C37.0148 22.464 37.2908 21.36 37.8428 20.388C38.4068 19.404 39.1748 18.642 40.1468 18.102C41.1308 17.55 42.2228 17.274 43.4228 17.274C44.8388 17.274 46.0688 17.622 47.1128 18.318C48.1568 19.002 48.8768 19.968 49.2728 21.216H46.3748ZM58.4232 30L55.6512 25.104H54.4632V30H51.9432V17.436H56.6592C57.6312 17.436 58.4592 17.61 59.1432 17.958C59.8272 18.294 60.3372 18.756 60.6732 19.344C61.0212 19.92 61.1952 20.568 61.1952 21.288C61.1952 22.116 60.9552 22.866 60.4752 23.538C59.9952 24.198 59.2812 24.654 58.3332 24.906L61.3392 30H58.4232ZM54.4632 23.214H56.5692C57.2532 23.214 57.7632 23.052 58.0992 22.728C58.4352 22.392 58.6032 21.93 58.6032 21.342C58.6032 20.766 58.4352 20.322 58.0992 20.01C57.7632 19.686 57.2532 19.524 56.5692 19.524H54.4632V23.214ZM66.4944 19.47V22.62H70.7244V24.618H66.4944V27.948H71.2644V30H63.9744V17.418H71.2644V19.47H66.4944ZM82.8025 21.216C82.5145 20.688 82.1185 20.286 81.6145 20.01C81.1105 19.734 80.5225 19.596 79.8505 19.596C79.1065 19.596 78.4465 19.764 77.8705 20.1C77.2945 20.436 76.8445 20.916 76.5205 21.54C76.1965 22.164 76.0345 22.884 76.0345 23.7C76.0345 24.54 76.1965 25.272 76.5205 25.896C76.8565 26.52 77.3185 27 77.9065 27.336C78.4945 27.672 79.1785 27.84 79.9585 27.84C80.9185 27.84 81.7045 27.588 82.3165 27.084C82.9285 26.568 83.3305 25.854 83.5225 24.942H79.2025V23.016H86.0065V25.212C85.8385 26.088 85.4785 26.898 84.9265 27.642C84.3745 28.386 83.6605 28.986 82.7845 29.442C81.9205 29.886 80.9485 30.108 79.8685 30.108C78.6565 30.108 77.5585 29.838 76.5745 29.298C75.6025 28.746 74.8345 27.984 74.2705 27.012C73.7185 26.04 73.4425 24.936 73.4425 23.7C73.4425 22.464 73.7185 21.36 74.2705 20.388C74.8345 19.404 75.6025 18.642 76.5745 18.102C77.5585 17.55 78.6505 17.274 79.8505 17.274C81.2665 17.274 82.4965 17.622 83.5405 18.318C84.5845 19.002 85.3045 19.968 85.7005 21.216H82.8025ZM96.0749 27.606H91.0709L90.2429 30H87.5969L92.1149 17.418H95.0489L99.5669 30H96.9029L96.0749 27.606ZM95.3909 25.59L93.5729 20.334L91.7549 25.59H95.3909ZM108.236 30L105.464 25.104H104.276V30H101.756V17.436H106.472C107.444 17.436 108.272 17.61 108.956 17.958C109.64 18.294 110.15 18.756 110.486 19.344C110.834 19.92 111.008 20.568 111.008 21.288C111.008 22.116 110.768 22.866 110.288 23.538C109.808 24.198 109.094 24.654 108.146 24.906L111.152 30H108.236ZM104.276 23.214H106.382C107.066 23.214 107.576 23.052 107.912 22.728C108.248 22.392 108.416 21.93 108.416 21.342C108.416 20.766 108.248 20.322 107.912 20.01C107.576 19.686 107.066 19.524 106.382 19.524H104.276V23.214ZM121.096 17.436V30H118.576V17.436H121.096ZM134.832 30H132.312L126.606 21.378V30H124.086V17.418H126.606L132.312 26.058V17.418H134.832V30ZM142.16 30.126C141.284 30.126 140.492 29.976 139.784 29.676C139.088 29.376 138.536 28.944 138.128 28.38C137.72 27.816 137.51 27.15 137.498 26.382H140.198C140.234 26.898 140.414 27.306 140.738 27.606C141.074 27.906 141.53 28.056 142.106 28.056C142.694 28.056 143.156 27.918 143.492 27.642C143.828 27.354 143.996 26.982 143.996 26.526C143.996 26.154 143.882 25.848 143.654 25.608C143.426 25.368 143.138 25.182 142.79 25.05C142.454 24.906 141.986 24.75 141.386 24.582C140.57 24.342 139.904 24.108 139.388 23.88C138.884 23.64 138.446 23.286 138.074 22.818C137.714 22.338 137.534 21.702 137.534 20.91C137.534 20.166 137.72 19.518 138.092 18.966C138.464 18.414 138.986 17.994 139.658 17.706C140.33 17.406 141.098 17.256 141.962 17.256C143.258 17.256 144.308 17.574 145.112 18.21C145.928 18.834 146.378 19.71 146.462 20.838H143.69C143.666 20.406 143.48 20.052 143.132 19.776C142.796 19.488 142.346 19.344 141.782 19.344C141.29 19.344 140.894 19.47 140.594 19.722C140.306 19.974 140.162 20.34 140.162 20.82C140.162 21.156 140.27 21.438 140.486 21.666C140.714 21.882 140.99 22.062 141.314 22.206C141.65 22.338 142.118 22.494 142.718 22.674C143.534 22.914 144.2 23.154 144.716 23.394C145.232 23.634 145.676 23.994 146.048 24.474C146.42 24.954 146.606 25.584 146.606 26.364C146.606 27.036 146.432 27.66 146.084 28.236C145.736 28.812 145.226 29.274 144.554 29.622C143.882 29.958 143.084 30.126 142.16 30.126ZM151.775 17.436V25.212C151.775 26.064 151.997 26.718 152.441 27.174C152.885 27.618 153.509 27.84 154.313 27.84C155.129 27.84 155.759 27.618 156.203 27.174C156.647 26.718 156.869 26.064 156.869 25.212V17.436H159.407V25.194C159.407 26.262 159.173 27.168 158.705 27.912C158.249 28.644 157.631 29.196 156.851 29.568C156.083 29.94 155.225 30.126 154.277 30.126C153.341 30.126 152.489 29.94 151.721 29.568C150.965 29.196 150.365 28.644 149.921 27.912C149.477 27.168 149.255 26.262 149.255 25.194V17.436H151.775ZM176.04 17.436V30H173.52V21.828L170.154 30H168.246L164.862 21.828V30H162.342V17.436H165.204L169.2 26.778L173.196 17.436H176.04ZM184.863 30.126C183.687 30.126 182.607 29.85 181.623 29.298C180.639 28.746 179.859 27.984 179.283 27.012C178.707 26.028 178.419 24.918 178.419 23.682C178.419 22.458 178.707 21.36 179.283 20.388C179.859 19.404 180.639 18.636 181.623 18.084C182.607 17.532 183.687 17.256 184.863 17.256C186.051 17.256 187.131 17.532 188.103 18.084C189.087 18.636 189.861 19.404 190.425 20.388C191.001 21.36 191.289 22.458 191.289 23.682C191.289 24.918 191.001 26.028 190.425 27.012C189.861 27.984 189.087 28.746 188.103 29.298C187.119 29.85 186.039 30.126 184.863 30.126ZM184.863 27.876C185.619 27.876 186.285 27.708 186.861 27.372C187.437 27.024 187.887 26.532 188.211 25.896C188.535 25.26 188.697 24.522 188.697 23.682C188.697 22.842 188.535 22.11 188.211 21.486C187.887 20.85 187.437 20.364 186.861 20.028C186.285 19.692 185.619 19.524 184.863 19.524C184.107 19.524 183.435 19.692 182.847 20.028C182.271 20.364 181.821 20.85 181.497 21.486C181.173 22.11 181.011 22.842 181.011 23.682C181.011 24.522 181.173 25.26 181.497 25.896C181.821 26.532 182.271 27.024 182.847 27.372C183.435 27.708 184.107 27.876 184.863 27.876ZM198.002 30.126C197.126 30.126 196.334 29.976 195.626 29.676C194.93 29.376 194.378 28.944 193.97 28.38C193.562 27.816 193.352 27.15 193.34 26.382H196.04C196.076 26.898 196.256 27.306 196.58 27.606C196.916 27.906 197.372 28.056 197.948 28.056C198.536 28.056 198.998 27.918 199.334 27.642C199.67 27.354 199.838 26.982 199.838 26.526C199.838 26.154 199.724 25.848 199.496 25.608C199.268 25.368 198.98 25.182 198.632 25.05C198.296 24.906 197.828 24.75 197.228 24.582C196.412 24.342 195.746 24.108 195.23 23.88C194.726 23.64 194.288 23.286 193.916 22.818C193.556 22.338 193.376 21.702 193.376 20.91C193.376 20.166 193.562 19.518 193.934 18.966C194.306 18.414 194.828 17.994 195.5 17.706C196.172 17.406 196.94 17.256 197.804 17.256C199.1 17.256 200.15 17.574 200.954 18.21C201.77 18.834 202.22 19.71 202.304 20.838H199.532C199.508 20.406 199.322 20.052 198.974 19.776C198.638 19.488 198.188 19.344 197.624 19.344C197.132 19.344 196.736 19.47 196.436 19.722C196.148 19.974 196.004 20.34 196.004 20.82C196.004 21.156 196.112 21.438 196.328 21.666C196.556 21.882 196.832 22.062 197.156 22.206C197.492 22.338 197.96 22.494 198.56 22.674C199.376 22.914 200.042 23.154 200.558 23.394C201.074 23.634 201.518 23.994 201.89 24.474C202.262 24.954 202.448 25.584 202.448 26.364C202.448 27.036 202.274 27.66 201.926 28.236C201.578 28.812 201.068 29.274 200.396 29.622C199.724 29.958 198.926 30.126 198.002 30.126Z" fill="white"/>
                                <path d="M230 25L248 25" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M239 16L239 34" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                    </div>
                </div>
                <div class="row" style="margin-top: 30px" id="insumos-table" hx-get="{{ url_for('insumos_list') }}" hx-trigger="load" hx-target="#insumos-table"></div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}
{% block extrajs %}
{% endblock %}

