<form id="external_form_create_order" hx-post="{{ url_for('add_order_record') }}" hx-target="#order_creation_response" hx-trigger="submit" hx-swap="innerHTML">
    <div class="row">
        <div class="col-md-3">
            <div class="mb-3">
                <label for="medico_solicitante" class="col-form-label insumos_form_label">Médico Solicitante</label>
                <input type="text" class="form-control placeholder_label_insumos" id="medico_solicitante" name="medico_solicitante" placeholder="Nombre del médico" required>
            </div>
        </div>
        <div class="col-md-3">
            <div class="mb-3">
                <label for="nombre_institucion" class="col-form-label insumos_form_label">Nombre de la Institución</label>
                <input type="text" class="form-control placeholder_label_insumos" id="nombre_institucion" name="nombre_institucion" placeholder="Nombre la Institución" required>
            </div>
        </div>
        <div class="col-md-2">
            <div class="mb-3">
                <label for="posicion_medico" class="col-form-label insumos_form_label">Posición del Médico</label>
                <input type="text" class="form-control placeholder_label_insumos" id="posicion_medico" name="posicion_medico" placeholder="Posición" required>
            </div>
        </div>
        <div class="col-md-4">
            <div class="mb-3">
                <label for="direccion_entrega" class="col-form-label insumos_form_label">Dirección de Entrega</label>
                <input type="text" class="form-control placeholder_label_insumos" id="direccion_entrega" name="direccion_entrega" placeholder="Dirección de Entrega" required>
            </div>
        </div>
    </div>
    <div>
        <span>Insumos a ordenar</span>
        {% for insumo in insumos %}
            <div class="row">
                <div class="col">
                    <div class="mb-3">
                        <label for="name_{{ insumo.id }}" class="col-form-label insumos_form_label">Nombre del Insumo</label>
                        <input type="text" class="form-control placeholder_label_insumos" id="name_{{ insumo.id }}" name="name_{{ insumo.id }}" value="{{ insumo.name }}" readonly>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label for="quantity_insumo_{{ insumo.id }}" class="col-form-label insumos_form_label">Cantidad</label>
                        <input type="number" class="form-control placeholder_label_insumos" id="quantity_insumo_{{ insumo.id }}" name="quantity_insumo_{{ insumo.id }}" placeholder="Cantidad requerida" min="1" max="{{ insumo.stock }}" required>
                    </div>
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label for="vendor_name_{{ insumo.id }}" class="col-form-label insumos_form_label">Proveedor</label>
                        <input type="text" class="form-control placeholder_label_insumos" id="vendor_name_{{ insumo.id }}" name="vendor_name_{{ insumo.id }}" value="{{ insumo.vendor.name }}" readonly>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div id="order_creation_response">
        <button class="btn" type="submit">
            <svg width="211" height="50" viewBox="0 0 211 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_245_433)">
                    <rect width="210.41" height="50" fill="#0075A6"/>
                    <rect width="73.64" height="51.12" transform="matrix(1 0 -0.207912 0.978148 161.72 0)" fill="#00617F"/>
                    <path d="M17.3243 23.7C17.3243 22.464 17.6003 21.36 18.1523 20.388C18.7163 19.404 19.4783 18.642 20.4383 18.102C21.4103 17.55 22.4963 17.274 23.6963 17.274C25.1003 17.274 26.3303 17.634 27.3863 18.354C28.4423 19.074 29.1803 20.07 29.6003 21.342H26.7023C26.4143 20.742 26.0063 20.292 25.4783 19.992C24.9623 19.692 24.3623 19.542 23.6783 19.542C22.9463 19.542 22.2923 19.716 21.7163 20.064C21.1523 20.4 20.7083 20.88 20.3843 21.504C20.0723 22.128 19.9163 22.86 19.9163 23.7C19.9163 24.528 20.0723 25.26 20.3843 25.896C20.7083 26.52 21.1523 27.006 21.7163 27.354C22.2923 27.69 22.9463 27.858 23.6783 27.858C24.3623 27.858 24.9623 27.708 25.4783 27.408C26.0063 27.096 26.4143 26.64 26.7023 26.04H29.6003C29.1803 27.324 28.4423 28.326 27.3863 29.046C26.3423 29.754 25.1123 30.108 23.6963 30.108C22.4963 30.108 21.4103 29.838 20.4383 29.298C19.4783 28.746 18.7163 27.984 18.1523 27.012C17.6003 26.04 17.3243 24.936 17.3243 23.7ZM38.7327 30L35.9607 25.104H34.7727V30H32.2527V17.436H36.9687C37.9407 17.436 38.7687 17.61 39.4527 17.958C40.1367 18.294 40.6467 18.756 40.9827 19.344C41.3307 19.92 41.5047 20.568 41.5047 21.288C41.5047 22.116 41.2647 22.866 40.7847 23.538C40.3047 24.198 39.5907 24.654 38.6427 24.906L41.6487 30H38.7327ZM34.7727 23.214H36.8787C37.5627 23.214 38.0727 23.052 38.4087 22.728C38.7447 22.392 38.9127 21.93 38.9127 21.342C38.9127 20.766 38.7447 20.322 38.4087 20.01C38.0727 19.686 37.5627 19.524 36.8787 19.524H34.7727V23.214ZM46.804 19.47V22.62H51.034V24.618H46.804V27.948H51.574V30H44.284V17.418H51.574V19.47H46.804ZM62.0681 27.606H57.0641L56.2361 30H53.5901L58.1081 17.418H61.0421L65.5601 30H62.8961L62.0681 27.606ZM61.3841 25.59L59.5661 20.334L57.7481 25.59H61.3841ZM74.2288 30L71.4568 25.104H70.2688V30H67.7488V17.436H72.4648C73.4368 17.436 74.2648 17.61 74.9488 17.958C75.6328 18.294 76.1428 18.756 76.4788 19.344C76.8268 19.92 77.0008 20.568 77.0008 21.288C77.0008 22.116 76.7608 22.866 76.2808 23.538C75.8008 24.198 75.0868 24.654 74.1388 24.906L77.1448 30H74.2288ZM70.2688 23.214H72.3748C73.0588 23.214 73.5688 23.052 73.9048 22.728C74.2408 22.392 74.4088 21.93 74.4088 21.342C74.4088 20.766 74.2408 20.322 73.9048 20.01C73.5688 19.686 73.0588 19.524 72.3748 19.524H70.2688V23.214ZM93.7311 21.324C93.7311 21.996 93.5691 22.626 93.2451 23.214C92.9331 23.802 92.4351 24.276 91.7511 24.636C91.0791 24.996 90.2271 25.176 89.1951 25.176H87.0891V30H84.5691V17.436H89.1951C90.1671 17.436 90.9951 17.604 91.6791 17.94C92.3631 18.276 92.8731 18.738 93.2091 19.326C93.5571 19.914 93.7311 20.58 93.7311 21.324ZM89.0871 23.142C89.7831 23.142 90.2991 22.986 90.6351 22.674C90.9711 22.35 91.1391 21.9 91.1391 21.324C91.1391 20.1 90.4551 19.488 89.0871 19.488H87.0891V23.142H89.0871ZM98.5403 19.47V22.62H102.77V24.618H98.5403V27.948H103.31V30H96.0203V17.418H103.31V19.47H98.5403ZM110.492 17.436C111.812 17.436 112.97 17.694 113.966 18.21C114.974 18.726 115.748 19.464 116.288 20.424C116.84 21.372 117.116 22.476 117.116 23.736C117.116 24.996 116.84 26.1 116.288 27.048C115.748 27.984 114.974 28.71 113.966 29.226C112.97 29.742 111.812 30 110.492 30H106.1V17.436H110.492ZM110.402 27.858C111.722 27.858 112.742 27.498 113.462 26.778C114.182 26.058 114.542 25.044 114.542 23.736C114.542 22.428 114.182 21.408 113.462 20.676C112.742 19.932 111.722 19.56 110.402 19.56H108.62V27.858H110.402ZM122.023 17.436V30H119.503V17.436H122.023ZM129.405 17.436C130.725 17.436 131.883 17.694 132.879 18.21C133.887 18.726 134.661 19.464 135.201 20.424C135.753 21.372 136.029 22.476 136.029 23.736C136.029 24.996 135.753 26.1 135.201 27.048C134.661 27.984 133.887 28.71 132.879 29.226C131.883 29.742 130.725 30 129.405 30H125.013V17.436H129.405ZM129.315 27.858C130.635 27.858 131.655 27.498 132.375 26.778C133.095 26.058 133.455 25.044 133.455 23.736C133.455 22.428 133.095 21.408 132.375 20.676C131.655 19.932 130.635 19.56 129.315 19.56H127.533V27.858H129.315ZM144.247 30.126C143.071 30.126 141.991 29.85 141.007 29.298C140.023 28.746 139.243 27.984 138.667 27.012C138.091 26.028 137.803 24.918 137.803 23.682C137.803 22.458 138.091 21.36 138.667 20.388C139.243 19.404 140.023 18.636 141.007 18.084C141.991 17.532 143.071 17.256 144.247 17.256C145.435 17.256 146.515 17.532 147.487 18.084C148.471 18.636 149.245 19.404 149.809 20.388C150.385 21.36 150.673 22.458 150.673 23.682C150.673 24.918 150.385 26.028 149.809 27.012C149.245 27.984 148.471 28.746 147.487 29.298C146.503 29.85 145.423 30.126 144.247 30.126ZM144.247 27.876C145.003 27.876 145.669 27.708 146.245 27.372C146.821 27.024 147.271 26.532 147.595 25.896C147.919 25.26 148.081 24.522 148.081 23.682C148.081 22.842 147.919 22.11 147.595 21.486C147.271 20.85 146.821 20.364 146.245 20.028C145.669 19.692 145.003 19.524 144.247 19.524C143.491 19.524 142.819 19.692 142.231 20.028C141.655 20.364 141.205 20.85 140.881 21.486C140.557 22.11 140.395 22.842 140.395 23.682C140.395 24.522 140.557 25.26 140.881 25.896C141.205 26.532 141.655 27.024 142.231 27.372C142.819 27.708 143.491 27.876 144.247 27.876Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M182.514 16.8058C183.587 15.7311 185.327 15.7304 186.401 16.8044L188.893 19.2962C189.958 20.361 189.969 22.0848 188.918 23.1631L179.685 32.6364C178.979 33.3603 178.012 33.7684 177.001 33.7684L174.249 33.7683C172.97 33.7682 171.948 32.7018 172.002 31.4228L172.12 28.6137C172.16 27.6747 172.55 26.7847 173.214 26.1198L182.514 16.8058ZM185.341 17.8658C184.853 17.3777 184.062 17.378 183.574 17.8665L181.911 19.5321L186.191 23.8119L187.845 22.1154C188.322 21.6252 188.317 20.8417 187.833 20.3577L185.341 17.8658ZM174.274 27.1805L180.851 20.5936L185.144 24.8862L178.611 31.5886C178.188 32.0229 177.608 32.2678 177.001 32.2678L174.249 32.2677C173.823 32.2677 173.482 31.9122 173.5 31.4859L173.618 28.6768C173.642 28.1134 173.876 27.5794 174.274 27.1805ZM189.515 33.6951C189.929 33.6951 190.265 33.3592 190.265 32.9448C190.265 32.5304 189.929 32.1945 189.515 32.1945H183.393C182.979 32.1945 182.643 32.5304 182.643 32.9448C182.643 33.3592 182.979 33.6951 183.393 33.6951H189.515Z" fill="white"/>
                </g>
                <defs>
                    <clipPath id="clip0_245_433">
                        <rect width="210.41" height="50" fill="white"/>
                    </clipPath>
                </defs>
            </svg>
        </button>
    </div>
</form>